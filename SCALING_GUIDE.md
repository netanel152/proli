# מדריך להרחבת המערכת למקצועות חדשים (Scaling)

Fixi בנויה כפלטפורמה מולטי-מודאלית ומבוזרת. מנוע הניתוב החכם מאפשר למערכת לגדול לאלפי אנשי מקצוע.

## 1. מנוע הניתוב והרחבה (Routing Engine)

המערכת משתמשת בלוגיקה חכמה כדי לבזר עומסים:
*   **Load Balancing:** המערכת בודקת כמה עבודות "פתוחות" (`booked`) יש לכל איש מקצוע.
*   **סף עומס (Threshold):** כרגע מוגדר ל-3 עבודות במקביל. אם איש מקצוע עמוס, המערכת תעבור אוטומטית לבא בתור בדירוג.
*   **משמעות:** ניתן להוסיף עוד ועוד אנשי מקצוע לאותו אזור, והמערכת תחלק ביניהם את העבודה אוטומטית.

## 2. הגדרת מקצוע חדש

כדי להוסיף תחום חדש (למשל: טכנאי מזגנים):

1.  **הגדרת הפרופיל ב-DB:**
    *   צור משתמש חדש דרך ה-Admin או ה-Seed.
    *   **`service_areas`:** חשוב מאוד להגדיר ערים מדויקות לשיפור הניתוב.

2.  **הנדסת הפרומפט (System Prompt):**
    *   המערכת תומכת ב-Prompts דינמיים.
    *   לכל איש מקצוע יש שדה `system_prompt` משלו.
    *   בעת הוספת מקצוע, יש לכתוב הנחיות ספציפיות (למשל: "שאל על סוג הגז במזגן").

3.  **מולטימדיה (Vision/Audio):**
    *   אין צורך בשינוי קוד. המודל (`Gemini 2.0`) יודע לנתח תמונות של כל סוגי התקלות באופן גנרי.

## 3. התאמות בקוד (Advanced)
אם נדרש שינוי בלוגיקת הניתוב (למשל, העדפה למקצוע ספציפי):
*   קובץ: `app/services/workflow.py`
*   פונקציה: `determine_best_pro`
*   ניתן להוסיף סינון לפי שדה `profession` ב-User Object אם יוסיפו אותו בעתיד.
